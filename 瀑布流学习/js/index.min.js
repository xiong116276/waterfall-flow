window.onload=function(){showBox("main","List");var a={date:[{src:"0.jpg"},{src:"1.jpg"},{src:"2.jpg"},{src:"3.jpg"}]};window.onscroll=function(){if(checkScroll()){var d=document.getElementById("main");for(var b=0;b<a.date.length;b++){var f=document.createElement("div");f.className="List";d.appendChild(f);var c=document.createElement("div");c.className="box";f.appendChild(c);var e=document.createElement("img");e.src="images/"+a.date[b].src;c.appendChild(e)}showBox("main","List")}}};function showBox(j,b){var f=document.getElementById(j);var d=getByClass(f,b);var h=d[0].offsetWidth;var a=Math.floor(document.documentElement.clientWidth/h);f.style.cssText="width:"+h*a+"px;margin:0 auto";var g=[];for(var c=0;c<d.length;c++){if(c<a){g.push(d[c].offsetHeight)}else{var k=Math.min.apply(null,g);var e=getMinIndex(g,k);d[c].style.position="absolute";d[c].style.top=k+"px";d[c].style.left=h*e+"px";g[e]+=d[c].offsetHeight}}}function getByClass(d,e){var a=new Array(),b=d.getElementsByTagName("*");for(var c=0;c<b.length;c++){if(b[c].className===e){a.push(b[c])}}return a}function getMinIndex(a,c){for(var b=0;b<a.length;b++){if(a[b]==c){return b}}}function checkScroll(){var d=document.getElementById("main");var c=getByClass(d,"List");var b=c[c.length-1].offsetTop+Math.floor(c[c.length-1].offsetHeight/2);var e=document.body.scrollTop||document.documentElement.scrollTop;var a=document.body.clientHeight||document.documentElement.clientHeight;return(b<e+a)?true:false};